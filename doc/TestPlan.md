# 🧪 ProjectFocusPilot – TDD-Friendly Test Plan  
**Generated by Copilot** — September 15, 2025  

---

## 📋 Overview  
This test plan outlines a TDD-friendly approach for testing the Virtual Assistant App built with C#.NET, Avalonia UI, and Blazor WebAssembly. It includes unit, integration, and manual tests, as well as future test considerations.

---

## 🧠 TDD Principles  

- Begin each feature with a failing test  
- Write minimal code to pass the test  
- Refactor for clarity and performance  
- Repeat for each feature and bug fix  

---

## 🧪 Unit Tests  

### Motivational Quote API  
- Test API response structure and content  
- Test error handling for failed API calls  
- Test caching mechanism (if applicable)  

---

## 🔗 Integration Tests  

### UI Rendering  
- Test layout rendering across screen sizes  
- Test component visibility and interaction  
- Test theme switching (if supported)  

---

## 🧍 Manual Tests  

### UI Responsiveness  
- Test app responsiveness on various devices  
- Test animation smoothness and transitions  
- Test accessibility features (keyboard navigation, screen reader)  

### OAuth Flow  
- Test login and logout flows  
- Test token refresh and expiration handling  
- Test error messages for failed authentication  

---

# 🧪 Phase 1 Test Plan (Updated)  

## 🧰 Testing Frameworks  
- Unit Testing: xUnit  
- UI Testing: Avalonia Headless (`Avalonia.Headless` package)  
- Blazor Component Testing: bUnit  

---

## 🧪 Test Categories  

### 1. Unit Tests (xUnit)  
**Focus:** ViewModels, services, and business logic  

**Modules and Targets:**  
- `QuoteService`: API call logic and error handling  
  - Use mocks such as `HttpClientFactory`, `Moq`, or `NSubstitute`  
- `QuoteViewModel`: Property binding and refresh logic  
  - Validate state changes and command execution  
- `AppConfig`: Initialization and environment detection  
  - Ensure correct config loading  

---

### 2. UI Tests (Avalonia Headless)  
**Focus:** UI behavior without rendering a visible window  

**Components and Targets:**  
- `MainWindow`: Quote display and refresh button  
  - Simulate button click and verify quote text updates  
- Startup Flow: App launch sequence  
  - Validate window loads and bindings initialize  
- Error States: API failure UI feedback  
  - Ensure fallback message or error indicator appears  

---

### 3. Integration Tests  
**Focus:** Service + ViewModel + UI interaction  

**Scenarios:**  
- Quote Refresh Cycle: End-to-end quote fetch and display  
  - Simulate refresh and validate UI and service sync  
- Offline Mode: No API response  
  - Ensure UI handles gracefully  

---

### 4. Manual Tests (Optional for Phase 1)  
- Launch app on Windows and Linux  
- Resize window and verify layout responsiveness  
- Simulate slow API response and observe UI behavior  

---

## 🌐 Blazor WebAssembly Integration  

### Testing Frameworks  
- Component Testing: bUnit  
- Test Runner: `dotnet test`  

### Setup  
- Create a separate test project: `FocusPilot.WebDemo.Tests`  
- Add references to:  
  - `bUnit`  
  - `Moq` or `NSubstitute`  
  - `FocusPilot.Core` for shared logic  

### Component Targets  
- `QuoteComponent`:  
  - Render quote from shared logic  
  - Simulate refresh and validate DOM updates  
- Error Handling:  
  - Simulate failed API and verify fallback UI  
- Shared Logic Validation:  
  - Ensure `FocusPilot.Core` functions identically across platforms  

---

## 🏗️ Test Project Setup  

- Create test project: `ProjectFocusPilot.Tests`  
- Add references to:  
  - `xUnit`  
  - `Avalonia.Headless`  
  - `Moq` or `NSubstitute`  
- Use `[Fact]` and `[Theory]` attributes for xUnit  
- Use `TestApplicationBuilder` from Avalonia.Headless for UI tests  

---

## 🛠️ Test Plan Maintenance  

- Store this file as: `docs/TestPlan.md`  
- Store Blazor-specific plan as: `docs/TestPlan.Blazor.md`  
- Link both in the README  
- Update with each milestone (e.g., `v0.2.0` for calendar integration)  

---

## ⚙️ Setup Instructions  

- Install .NET SDK and xUnit CLI  
- Configure Avalonia Headless in test project  
- Configure bUnit for Blazor tests  
- Use test runner: `dotnet test`  
- Ensure test environment mimics production settings  

---

## 🗂️ Maintenance Notes  

- Review test coverage monthly  
- Update tests with each feature change  
- Archive deprecated tests in `/tests/archive`  

---

## 📝 Note  
This version supersedes earlier test plan assumptions. xUnit, Avalonia Headless, and bUnit are now the preferred tools for Phase 1 testing across desktop and web platforms.
